# Sabak Journal ‚Äî —à–∫–æ–ª—å–Ω—ã–π –∂—É—Ä–Ω–∞–ª –∏ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å (Django + MySQL)

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üë• **–†–æ–ª–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**: –ê–¥–º–∏–Ω, –£—á–∏—Ç–µ–ª—å, –°—Ç—É–¥–µ–Ω—Ç, –†–æ–¥–∏—Ç–µ–ª—å. –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–æ–ª–µ–π.
- üè´ **–ì—Ä—É–ø–ø—ã –∏ –ø—Ä–µ–¥–º–µ—Ç—ã**: —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –≥—Ä—É–ø–ø (—Å –∫—É—Ä—Å–∞–º–∏) –∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤.
- üóìÔ∏è **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ**: —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —É—Ä–æ–∫–æ–≤ ¬´–ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é¬ª, –∏—Å–∫–ª—é—á–µ–Ω–∏—è.
- üìö **–£—Ä–æ–∫–∏**: —Ä—É—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, –∑–∞–º–µ—Ç–∫–∏, —Å–≤—è–∑–∫–∞ —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º, —É—á–∏—Ç–µ–ª–µ–º, –≥—Ä—É–ø–ø–æ–π –∏ –ø—Ä–µ–¥–º–µ—Ç–æ–º.
- ‚úÖ **–ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å**: –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ/–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ/–æ–ø–æ–∑–¥–∞–Ω–∏–µ, —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞ –≤ —É—Ä–æ–∫–µ, –±—ã—Å—Ç—Ä—ã–µ –ø—Ä–∞–≤–∫–∏.
- üìù **–û—Ü–µ–Ω–∫–∏**: –∑–∞–ø–∏—Å—å –æ—Ü–µ–Ω–æ–∫ –ø—Ä—è–º–æ –≤ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å.
- üìä **–î–∞—à–±–æ—Ä–¥**: –±–∞–∑–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (Chart.js) –ø–æ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏/–æ–ø–æ–∑–¥–∞–Ω–∏—è–º/–æ—Ü–µ–Ω–∫–∞–º.
- üñºÔ∏è **–ê–≤–∞—Ç–∞—Ä—ã**: –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø—Ä–æ—Ñ–∏–ª—è (Pillow).
- üîê **–ü—Ä–æ–≤–µ—Ä–∫–∞ JWT**: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç `GET /check_auth` –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–∞.
- üõ†Ô∏è **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**: –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Django Admin —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–æ–∑–¥–∞–Ω–∏–µ–º –∑–∞–ø–∏—Å–µ–π –ø–æ —Ä–æ–ª—è–º.

## üß∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python 3.13+**
- **Django 5.1.x**
- **Django REST Framework** (—Ç–æ—á–µ—á–Ω–æ)
- **MySQL 8** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ SQLite –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- **Tailwind CSS** (CDN) + **Chart.js** (CDN)
- **Pillow** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
school_project/
‚îú‚îÄ manage.py
‚îú‚îÄ school_project/
‚îÇ  ‚îú‚îÄ settings.py
‚îÇ  ‚îú‚îÄ urls.py
‚îÇ  ‚îú‚îÄ asgi.py / wsgi.py
‚îú‚îÄ school_app/
‚îÇ  ‚îú‚îÄ models.py        # User, Role, Group, Subject, Student, Teacher, Parent,
‚îÇ  ‚îÇ                   # Schedule, Lesson, Attendance
‚îÇ  ‚îú‚îÄ views.py         # home, login/logout, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, —É—Ä–æ–∫–∏, –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å, API check_auth
‚îÇ  ‚îú‚îÄ signals.py       # –∞–≤—Ç–æ‚Äë–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–æ–ª–µ–π/–≥—Ä—É–ø–ø/–ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∏ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ  ‚îú‚îÄ templates/       # base.html, home.html, login.html, schedule.html, ...
‚îÇ  ‚îú‚îÄ static/          # css, images/
‚îÇ  ‚îî‚îÄ migrations/      # 0001...0008_*.py
‚îú‚îÄ media/              # –∑–∞–≥—Ä—É–∂–∞–µ–º—ã–µ –∞–≤–∞—Ç–∞—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îî‚îÄ staticfiles/        # —Å–±–æ—Ä–∫–∞ —Å—Ç–∞—Ç–∏–∫ (prod)
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–ª–æ–∫–∞–ª—å–Ω–æ)

### 1) –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ, –∑–∞—Ç–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç—ã:

```bash
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install Django==5.1.7 djangorestframework pillow mysqlclient
```

> –ï—Å–ª–∏ –Ω–µ—Ç MySQL, –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ–≥–æ–Ω–∞ –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ë–î –Ω–∞ SQLite –≤ `school_project/settings.py`:

```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',
    }
}
```

### 2) –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î (MySQL –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

–í `school_project/settings.py` —É–∂–µ –∑–∞–¥–∞–Ω–æ:

```python
DATABASES = {
  'default': {
    'ENGINE': 'django.db.backends.mysql',
    'NAME': 'school_management',
    'USER': 'root',
    'PASSWORD': '',
    'HOST': 'localhost',
    'PORT': '3306',
  }
}
```

–°–æ–∑–¥–∞–π—Ç–µ –ë–î –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ MySQL (–ª–∏–±–æ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥ —Å–µ–±—è).

### 3) –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å—Ç–∞—Ä—Ç

```bash
python manage.py migrate
python manage.py collectstatic --noinput  # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
python manage.py runserver
```

–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–π **—Å–∏–≥–Ω–∞–ª—ã** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–¥—É—Ç –±–∞–∑–æ–≤—ã–µ —Ä–æ–ª–∏/–≥—Ä—É–ø–ø—ã/–ø—Ä–µ–¥–º–µ—Ç—ã –∏ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

- **–õ–æ–≥–∏–Ω:** `admin`
- **–ü–∞—Ä–æ–ª—å:** `admin`

### 4) –í—Ö–æ–¥

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–∞–±–∏–Ω–µ—Ç: `http://127.0.0.1:8000/`
- –ê–¥–º–∏–Ω‚Äë–ø–∞–Ω–µ–ª—å: `http://127.0.0.1:8000/admin/`
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: `http://127.0.0.1:8000/login/`

### 5) –ú–µ–¥–∏–∞ –∏ —Å—Ç–∞—Ç–∏–∫–∞

- `MEDIA_URL = /media/`, `MEDIA_ROOT = ./media`
- `STATIC_URL = /static/`, `STATICFILES_DIRS = ./school_app/static`, `STATIC_ROOT = ./staticfiles`

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–æ—É—Ç—ã

- `/` ‚Äî –¥–æ–º–∞—à–Ω—è—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞/–¥–∞—à–±–æ—Ä–¥
- `/login`, `/logout`
- `/schedule` ‚Äî —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- `/schedule/add` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–Ω—è—Ç–∏–µ
- `/create-missing-attendance/` ‚Äî —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å–∏ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ –¥–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- `/admin/` ‚Äî –∞–¥–º–∏–Ω‚Äë–ø–∞–Ω–µ–ª—å
- `/check_auth` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ JWT —Ç–æ–∫–µ–Ω–∞ (GET, –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization`)

## üë§ –†–æ–ª–∏ –∏ –∞–≤—Ç–æ—Å–æ–∑–¥–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ —Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (—á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å–≤—è–∑–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏:

- **–°—Ç—É–¥–µ–Ω—Ç** ‚Üí –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –≥—Ä—É–ø–ø–µ
- **–£—á–∏—Ç–µ–ª—å** ‚Üí –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –≥—Ä—É–ø–ø–µ/–ø—Ä–µ–¥–º–µ—Ç–∞–º
- **–†–æ–¥–∏—Ç–µ–ª—å** ‚Üí –º–æ–∂–Ω–æ —Å–≤—è–∑–∞—Ç—å —Å–æ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏
  –≠—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `school_app/signals.py`.

## üß™ –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è —Ä–µ–≤—å—é–µ—Ä–∞

- –ó–∞–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω–∫—É –ø–æ–¥ `admin/admin`.
- –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –Ω–∞–∑–Ω–∞—á—å—Ç–µ —Ä–æ–ª—å **–£—á–∏—Ç–µ–ª—å**, —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–æ–∑–¥–∞–ª–∞—Å—å –∑–∞–ø–∏—Å—å `Teacher`.
- –°–æ–∑–¥–∞–π—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –∑–∞—Ç–µ–º —É—Ä–æ–∫ ¬´–∏–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è¬ª, –æ—Ç–º–µ—Ç—å—Ç–µ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å –∏ –≤—ã—Å—Ç–∞–≤—å—Ç–µ –æ—Ü–µ–Ω–∫–∏.
- –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞—à–±–æ—Ä–¥ –∏ –≥—Ä–∞—Ñ–∏–∫–∏.

## üì¶ –ü—Ä–æ–¥–∞–∫—à–Ω‚Äë–∑–∞–º–µ—Ç–∫–∏

- –í—ã–Ω–µ—Å–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –∏ –ë–î –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ `python-dotenv`), —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `DEBUG = False`.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **gunicorn/uvicorn + nginx**, **collectstatic**, –∏ –≤–Ω–µ—à–Ω–∏–π S3/MinIO –¥–ª—è –º–µ–¥–∏–∞ (–ø–æ –∂–µ–ª–∞–Ω–∏—é).
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î.

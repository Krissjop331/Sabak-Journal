{% extends "base.html" %}
{% load static %}
{% load custom_tags %}

{% block title %}–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º -->
    <div class="text-center mb-8">
        <div class="bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 text-white rounded-2xl p-8 shadow-xl">
            <h1 class="text-4xl font-bold mb-4">üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π</h1>
            <p class="text-xl opacity-90">
                {% if role == 'student' %}
                    {{ group.name }} ‚Ä¢ {{ group.course }} –∫—É—Ä—Å
                {% elif role == 'teacher' %}
                    {{ teacher.user.get_full_name }} ‚Ä¢ {{ total_schedules }} —É—Ä–æ–∫(–æ–≤) –≤ –Ω–µ–¥–µ–ª—é
                {% elif role == 'parent' %}
                    –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–µ—Ç–µ–π: {% for child in children %}{{ child.user.get_full_name }}{% if not forloop.last %}, {% endif %}{% endfor %}
                {% else %}
                    –ü–æ–ª–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ ‚Ä¢ {{ total_schedules }} —É—Ä–æ–∫(–æ–≤)
                {% endif %}
            </p>

            <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
            <div class="flex flex-wrap justify-center gap-4 mt-6">
                {% if role == 'teacher' or user.is_superuser %}
                <a href="{% url 'add_schedule' %}"
                   class="bg-white bg-opacity-20 hover:bg-opacity-30 text-white font-bold py-3 px-6 rounded-xl transition duration-300 backdrop-blur-sm">
                    ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
                </a>
                {% endif %}
                <a href="{% url 'home' %}"
                   class="bg-white bg-opacity-20 hover:bg-opacity-30 text-white font-bold py-3 px-6 rounded-xl transition duration-300 backdrop-blur-sm">
                    üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é
                </a>
            </div>
        </div>
    </div>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ -->
    {% if total_schedules > 0 %}
    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
        <div class="bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-2xl shadow-lg transform hover:scale-105 transition duration-300">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-blue-100 text-sm">–í—Å–µ–≥–æ –∑–∞–Ω—è—Ç–∏–π</p>
                    <p class="text-3xl font-bold">{{ total_schedules }}</p>
                </div>
                <div class="p-3 bg-white bg-opacity-20 rounded-full">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                </div>
            </div>
        </div>

        <div class="bg-gradient-to-br from-green-500 to-green-600 text-white p-6 rounded-2xl shadow-lg transform hover:scale-105 transition duration-300">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-green-100 text-sm">–†–∞–±–æ—á–∏—Ö –¥–Ω–µ–π</p>
                    <p class="text-3xl font-bold">
                        {% with working_days=0 %}
                            {% for day, schedules_list in schedule_by_day.items %}
                                {% if schedules_list %}
                                    {% with working_days=working_days|add:1 %}{% endwith %}
                                {% endif %}
                            {% endfor %}
                            {{ working_days }}
                        {% endwith %}
                    </p>
                </div>
                <div class="p-3 bg-white bg-opacity-20 rounded-full">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"></path>
                    </svg>
                </div>
            </div>
        </div>

        <div class="bg-gradient-to-br from-purple-500 to-purple-600 text-white p-6 rounded-2xl shadow-lg transform hover:scale-105 transition duration-300">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-purple-100 text-sm">
                        {% if role == 'teacher' %}–ü—Ä–µ–¥–º–µ—Ç–æ–≤{% else %}–ê–∫—Ç–∏–≤–Ω—ã—Ö{% endif %}
                    </p>
                    <p class="text-3xl font-bold">
                        {% if role == 'teacher' %}{{ teacher.subjects.count }}{% else %}{{ total_schedules }}{% endif %}
                    </p>
                </div>
                <div class="p-3 bg-white bg-opacity-20 rounded-full">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"></path>
                    </svg>
                </div>
            </div>
        </div>

        <div class="bg-gradient-to-br from-orange-500 to-orange-600 text-white p-6 rounded-2xl shadow-lg transform hover:scale-105 transition duration-300">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-orange-100 text-sm">–¢–µ–∫—É—â–∞—è –Ω–µ–¥–µ–ª—è</p>
                    <p class="text-3xl font-bold">{{ today|date:"W" }}</p>
                </div>
                <div class="p-3 bg-white bg-opacity-20 rounded-full">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                    </svg>
                </div>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ -->
    {% if total_schedules > 0 %}
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–µ–¥–µ–ª–∏ -->
        <div class="text-center mb-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-2">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –Ω–µ–¥–µ–ª—é</h2>
            <p class="text-gray-600">{{ today|date:"d F Y" }}</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-7 gap-4">
            {% for weekday_num, weekday_name in weekdays %}
            {% with day_schedules=schedule_by_day|get_item:weekday_num %}
            <div class="bg-white rounded-2xl shadow-lg overflow-hidden transform hover:scale-102 transition duration-300">
                <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–Ω—è -->
                <div class="{% if day_schedules %}bg-gradient-to-r from-blue-500 to-purple-600{% else %}bg-gray-400{% endif %} text-white px-4 py-4">
                    <h3 class="font-bold text-center text-lg">{{ weekday_name }}</h3>
                    <div class="text-center text-sm opacity-90 mt-1">
                        {% if day_schedules %}
                            <span class="bg-white bg-opacity-20 px-2 py-1 rounded-full">
                                {{ day_schedules|length }} –∑–∞–Ω—è—Ç–∏–π
                            </span>
                        {% else %}
                            <span class="bg-white bg-opacity-20 px-2 py-1 rounded-full">
                                –í—ã—Ö–æ–¥–Ω–æ–π
                            </span>
                        {% endif %}
                    </div>
                </div>

                <!-- –ó–∞–Ω—è—Ç–∏—è –¥–Ω—è -->
                <div class="p-4 min-h-[400px] bg-gradient-to-b from-gray-50 to-white">
                    {% if day_schedules %}
                        <div class="space-y-4">
                            {% for schedule in day_schedules %}
                            <div class="bg-white rounded-xl p-4 shadow-md border-l-4 border-blue-500 hover:shadow-lg transition duration-300 group">
                                <!-- –í—Ä–µ–º—è -->
                                <div class="flex items-center text-sm font-bold text-blue-600 mb-2">
                                    <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                                    </svg>
                                    {{ schedule.get_time_range }}
                                </div>

                                <!-- –ü—Ä–µ–¥–º–µ—Ç -->
                                <h4 class="font-bold text-gray-800 text-lg mb-2 group-hover:text-blue-600 transition duration-200">
                                    {{ schedule.subject.name }}
                                </h4>

                                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                                <div class="space-y-1 text-sm text-gray-600 mb-3">
                                    {% if role == 'student' or role == 'parent' %}
                                    <div class="flex items-center">
                                        <svg class="w-4 h-4 mr-2 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path>
                                        </svg>
                                        {{ schedule.teacher.user.get_full_name }}
                                    </div>
                                    {% endif %}

                                    {% if role == 'teacher' or role == 'admin' %}
                                    <div class="flex items-center">
                                        <svg class="w-4 h-4 mr-2 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                            <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"></path>
                                        </svg>
                                        {{ schedule.group.name }}
                                    </div>
                                    {% endif %}

                                    {% if schedule.classroom %}
                                    <div class="flex items-center">
                                        <svg class="w-4 h-4 mr-2 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm12 12V8H4v8h12z" clip-rule="evenodd"></path>
                                        </svg>
                                        {{ schedule.classroom }}
                                    </div>
                                    {% endif %}
                                </div>

                                <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
                                {% if role == 'teacher' and schedule.teacher == teacher or user.is_superuser %}
                                <div class="flex flex-wrap gap-2 opacity-0 group-hover:opacity-100 transition duration-300">
                                    <!-- –ö–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —É—Ä–æ–∫–∞ -->
                                    <a href="{% url 'create_lesson_from_schedule' schedule.id %}"
                                       class="flex items-center px-3 py-2 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white text-xs font-medium rounded-lg transition duration-200 shadow-md">
                                        <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                        </svg>
                                        –£—Ä–æ–∫
                                    </a>

                                    <!-- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è -->
                                    <button onclick="confirmDelete({{ schedule.id }}, '{{ schedule|escapejs }}')"
                                            class="flex items-center px-3 py-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white text-xs font-medium rounded-lg transition duration-200 shadow-md">
                                        <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                        </svg>
                                        –£–¥–∞–ª–∏—Ç—å
                                    </button>
                                </div>
                                {% endif %}
                            </div>
                            {% endfor %}
                        </div>
                    {% else %}
                        <!-- –ü—É—Å—Ç–æ–π –¥–µ–Ω—å -->
                        <div class="text-center text-gray-400 py-12">
                            <svg class="mx-auto h-16 w-16 text-gray-300 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4" />
                            </svg>
                            <p class="text-sm font-medium">–°–≤–æ–±–æ–¥–Ω—ã–π –¥–µ–Ω—å</p>
                            <p class="text-xs mt-1">–ù–µ—Ç –∑–∞–Ω—è—Ç–∏–π</p>
                        </div>
                    {% endif %}
                </div>
            </div>
            {% endwith %}
            {% endfor %}
        </div>
    {% else %}
        <!-- –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ -->
        <div class="text-center py-16">
            <div class="max-w-md mx-auto">
                <div class="bg-gradient-to-br from-blue-100 to-purple-100 rounded-full p-8 w-32 h-32 mx-auto mb-8 flex items-center justify-center">
                    <svg class="h-16 w-16 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                    </svg>
                </div>
                <h3 class="text-2xl font-bold text-gray-900 mb-4">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—É—Å—Ç–æ</h3>
                <p class="text-gray-600 mb-8">
                    {% if role == 'teacher' or user.is_superuser %}
                        –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤–æ–µ –∑–∞–Ω—è—Ç–∏–µ –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–∫–æ–≤
                    {% else %}
                        –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –µ—â–µ –Ω–µ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
                    {% endif %}
                </p>
                {% if role == 'teacher' or user.is_superuser %}
                <a href="{% url 'add_schedule' %}"
                   class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold rounded-xl transition duration-300 shadow-lg">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                    </svg>
                    –°–æ–∑–¥–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
                </a>
                {% endif %}
            </div>
        </div>
    {% endif %}
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É–¥–∞–ª–µ–Ω–∏—è -->
<div id="deleteModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center">
    <div class="bg-white rounded-2xl p-8 max-w-md mx-4 transform transition-all">
        <div class="text-center">
            <div class="bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4 flex items-center justify-center">
                <svg class="h-8 w-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                </svg>
            </div>
            <h3 class="text-xl font-bold text-gray-900 mb-2">–£–¥–∞–ª–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h3>
            <p class="text-gray-600 mb-6" id="deleteMessage">
                –í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ?
            </p>
            <div class="flex space-x-4">
                <button onclick="closeDeleteModal()"
                        class="flex-1 px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium rounded-xl transition duration-200">
                    –û—Ç–º–µ–Ω–∞
                </button>
                <button id="confirmDeleteBtn"
                        class="flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-xl transition duration-200">
                    –£–¥–∞–ª–∏—Ç—å
                </button>
            </div>
        </div>
    </div>
</div>

<script>
let scheduleToDelete = null;

    document.getElementById('deleteMessage').textContent = `–í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ "${scheduleName}"?`;
    document.getElementById('deleteModal').classList.remove('hidden');
}

function closeDeleteModal() {
    scheduleToDelete = null;
    document.getElementById('deleteModal').classList.add('hidden');
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —É–¥–∞–ª–µ–Ω–∏—è
document.getElementById('confirmDeleteBtn').addEventListener('click', function() {
    if (scheduleToDelete) {
        const form = document.createElement('form');
        form.method = 'POST';
        form.action = `/delete-schedule/${scheduleToDelete}/`;

        const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]');
        if (csrfToken) {
            const csrfInput = document.createElement('input');
            csrfInput.type = 'hidden';
            csrfInput.name = 'csrfmiddlewaretoken';
            csrfInput.value = csrfToken.value;
            form.appendChild(csrfInput);
        }

        document.body.appendChild(form);
        form.submit();
    }
});

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –µ–≥–æ
document.getElementById('deleteModal').addEventListener('click', function(e) {
    if (e.target === this) {
        closeDeleteModal();
    }
});

// –ê–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
document.addEventListener('DOMContentLoaded', function() {
    // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫
    const cards = document.querySelectorAll('.transform');
    cards.forEach((card, index) => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';

        setTimeout(() => {
            card.style.transition = 'all 0.6s ease';
            card.style.opacity = '1';
            card.style.transform = 'translateY(0)';
        }, index * 100);
    });

    // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è
    const today = new Date();
    const currentWeekday = (today.getDay() + 6) % 7; // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ Python —Ñ–æ—Ä–º–∞—Ç

    const weekdayCards = document.querySelectorAll('.grid > div');
    if (weekdayCards[currentWeekday]) {
        weekdayCards[currentWeekday].classList.add('ring-4', 'ring-yellow-400', 'ring-opacity-50');

        // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "—Å–µ–≥–æ–¥–Ω—è"
        const header = weekdayCards[currentWeekday].querySelector('div:first-child');
        if (header) {
            const todayBadge = document.createElement('div');
            todayBadge.className = 'absolute top-2 right-2 bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-1 rounded-full';
            todayBadge.textContent = '–°–µ–≥–æ–¥–Ω—è';
            header.style.position = 'relative';
            header.appendChild(todayBadge);
        }
    }
});
</script>

<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

body {
    font-family: 'Inter', sans-serif;
}

.container {
    animation: fadeIn 0.8s ease-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* –ö—Ä–∞—Å–∏–≤—ã–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ */
.bg-gradient-to-br {
    background-attachment: fixed;
}

/* –ê–Ω–∏–º–∞—Ü–∏—è hover –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ */
.hover\:scale-102:hover {
    transform: scale(1.02);
}

.hover\:scale-105:hover {
    transform: scale(1.05);
}

/* –ü—É–ª—å—Å–∏—Ä—É—é—â–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –∫–Ω–æ–ø–æ–∫ */
@keyframes pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: .8;
    }
}

.animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã */
* {
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* –°—Ç–∏–ª–∏ –¥–ª—è —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 10px;
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(45deg, #667eea, #764ba2);
    border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(45deg, #5a67d8, #6b46c1);
}

/* –£–ª—É—á—à–µ–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ */
#deleteModal {
    backdrop-filter: blur(10px);
}

#deleteModal > div {
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
}

/* –≠—Ñ—Ñ–µ–∫—Ç —Å—Ç–µ–∫–ª–∞ –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
.backdrop-blur-sm {
    backdrop-filter: blur(4px);
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö hover —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ */
.group:hover .group-hover\:opacity-100 {
    opacity: 1;
}

.group:hover .group-hover\:text-blue-600 {
    color: #2563eb;
}

/* –ü–ª–∞–≤–Ω—ã–µ —Ç–µ–Ω–∏ */
.shadow-md {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.shadow-lg {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

.shadow-xl {
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

/* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
@media (max-width: 768px) {
    .grid-cols-1.lg\:grid-cols-7 {
        grid-template-columns: repeat(1, 1fr);
    }

    .text-4xl {
        font-size: 2.5rem;
    }

    .p-8 {
        padding: 1.5rem;
    }
}
</style>
{% endblock %}
